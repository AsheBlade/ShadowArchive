---
layout: post
title: LC40_Combination Sum II
date: 2021-05-05
author: Shadow Walker
tags: [OPLC, Algorithm, Backtrack]
toc: true
comments: true
---

## 原题
LC40
## 推荐度
3星
## 历程
2021-05-05 第一次
## 难点
其实较39题没有难度提升, 所谓的难度就在于去重, 而这个跟Backtrack是没啥关系的. 

递归这种虽然很难想, 但目前两个解决方式: 

- 动笔画图, 列出基本的形势
- 多刷, 训练思维. 

## 答案

标准答案看了一会儿, 知道基本原理, 但是递归这种就是一时半会儿想不清楚,索性不想了. 

既然39题是一遍过自己写出来的, 照着39题的样子, 自己在后面加了个去重. 我知道不如标准答案快, 但目前就这样吧.  有时间可以再看看标准答案, 没时间就算了.  

另外这个代码没有注释, 如果看不懂的话, 可以去看39题标准答案的注释, 一样的. 

```java
class Solution {
    List<List<Integer>> output;
    private int[] candidates;
   
    private void backTrack(int first, LinkedList<Integer> numList, int target)
    {
        if(target==0)
        {
            output.add(new LinkedList<>(numList));
            //System.out.println(numList);
            return;
        }else if(target<0){
            return;
        }
        
        for(int i=first; i<candidates.length; i++){
                
            target = target - candidates[i];
            numList.add(candidates[i]);
            //System.out.println(candidates[i]);
            backTrack(i+1, numList, target);
            
            target = target + numList.removeLast();
        }
    }
    public List<List<Integer>> combinationSum2(int[] candidates, int target) {
        
        this.candidates = candidates;
        output = new LinkedList<>();
        LinkedList<Integer> numList = new LinkedList<>();
        
        backTrack(0, numList, target);
        removeDuplicates();
        
        return output;
    }
    
    private void removeDuplicates(){
        Set<String> hs = new HashSet<>();

        for(int i=0; i< output.size(); i++)
        {
            //System.out.println(i);
            List<Integer> curr = output.get(i);
            Collections.sort(curr);
            String s = curr.toString();
            System.out.println(s);
            if(hs.contains(s)){
                
                output.remove(i);
                i--;
            }else{
                hs.add(s);
            }
        }
        
    }
}
```